<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html xmlns:yui="http://yuilibrary.com/rdf/1.0/yui.rdf#">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<title>API: cookie   core.js  (YUI Library)</title>

	<link rel="stylesheet" type="text/css" href="assets/reset-fonts-grids-min.css?stamp=1235697937.14" />
	<link rel="stylesheet" type="text/css" href="assets/api.css?stamp=1235697937.14" />

    <script type="text/javascript" src="assets/api-js?stamp=1235697937.14"></script>
    <script type="text/javascript" src="assets/ac-js?stamp=1235697937.14"></script>
</head>

<body id="yahoo-com">

<div id="doc3" class="yui-t2">
	<div id="hd">
        <h1><a href="http://developer.yahoo.com/yui/" title="Yahoo! UI Library">Yahoo! UI Library</a></h1>
        <h3>cookie&nbsp; <span class="subtitle">0.0.2</span></h3>
        <a href="./index.html" title="Yahoo! UI Library">Yahoo! UI Library</a> 
            &gt; <a href="./module_cookie.html" title="cookie">cookie</a>
                
                 &gt; core.js (source view) 
        <form onsubmit="return false">
            <div id="propertysearch">
                Search: <input autocomplete="off" id="searchinput" />
                <div id="searchresults">
                    &nbsp;
                </div>
            </div>
        </form>
	</div>

	<div id="bd">
		<div id="yui-main">
			<div class="yui-b">
            <form action="#" name="yui-classopts-form" method="get" id="yui-classopts-form">
                <fieldset>
                    <legend>Filters</legend>
                <span class="classopts"><input type="checkbox" name="show_private" id="show_private" /> <label for="show_private">Show Private</label></span>
                <span class="classopts"><input type="checkbox" name="show_protected" id="show_protected" /> <label for="show_protected">Show Protected</label></span>
                <span class="classopts"><input type="checkbox" name="show_deprecated" id="show_deprecated" /> <label for="show_deprecated">Show Deprecated</label></span>
                </fieldset>
            </form>

                    <div id="srcout">
                        <style>
                            #doc3 .classopts { display:none; }
                        </style>
<div class="highlight" ><pre><span class="c">/**</span>
<span class="c"> * AP Core</span>
<span class="c"> * @module ap</span>
<span class="c"> * @author Alexander &lt;xan&gt; Ulizko</span>
<span class="c"> */</span>
<span class="o">(</span><span class="k">function</span> <span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="k">typeof</span> <span class="nx">AP</span> <span class="o">===</span> <span class="s1">&#39;undefined&#39;</span> <span class="o">||</span> <span class="o">!</span><span class="nx">AP</span><span class="o">)</span> <span class="o">{</span>
        <span class="c">/**</span>
<span class="c">         * The AP global namespace object. If AP is already defined,</span>
<span class="c">         * existing AP object will not be overwritten so that defined</span>
<span class="c">         * namespaces are preserved.</span>
<span class="c">         * @class AP</span>
<span class="c">         * @constructor</span>
<span class="c">         * @param o Optional configuration object.  Options:</span>
<span class="c">         * &lt;ul&gt;</span>
<span class="c">         *  &lt;li&gt;------------------------------------------------------------------------&lt;/li&gt;</span>
<span class="c">         *  &lt;li&gt;Global:&lt;/li&gt;</span>
<span class="c">         *  &lt;li&gt;------------------------------------------------------------------------&lt;/li&gt;</span>
<span class="c">         *  &lt;li&gt;debug:</span>
<span class="c">         *  Turn debug statements on or off&lt;/li&gt;</span>
<span class="c">         *  &lt;li&gt;win:</span>
<span class="c">         *  The target window/frame&lt;/li&gt;</span>
<span class="c">         * &lt;/ul&gt;</span>
<span class="c">         */</span>
        <span class="nx">AP</span> <span class="o">=</span> <span class="k">function</span> <span class="o">(</span><span class="nx">o</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">var</span> <span class="nx">A</span> <span class="o">=</span> <span class="k">this</span><span class="o">;</span>
            <span class="c">// Allow var ap = AP() instead of var ap = new AP()</span>
<span class="c"></span>            <span class="k">if</span> <span class="o">(</span><span class="nx">A</span> <span class="o">==</span> <span class="nb">window</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nx">AP</span><span class="o">(</span><span class="nx">o</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="c">// set up the core environment</span>
<span class="c"></span>                <span class="nx">A</span><span class="o">.</span><span class="nx">_init</span><span class="o">(</span><span class="nx">o</span><span class="o">);</span>
                <span class="c">// A._setup();</span>
<span class="c"></span>                <span class="k">return</span> <span class="nx">A</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">};</span>
    <span class="o">}</span>

    <span class="nx">AP</span><span class="o">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="o">{</span>
        <span class="c">/**</span>
<span class="c">         * Initialize this AP instance</span>
<span class="c">         * @param o config options. For details, @see &lt;AP&gt;</span>
<span class="c">         * @private</span>
<span class="c">         */</span>
        <span class="nx">init</span> <span class="o">:</span> <span class="k">function</span> <span class="o">(</span><span class="nx">o</span><span class="o">)</span> <span class="o">{</span>
            <span class="nx">o</span> <span class="o">=</span> <span class="nx">o</span> <span class="o">||</span> <span class="o">{};</span>

            <span class="c">// find targeted window</span>
<span class="c"></span>            <span class="k">var</span> <span class="nx">w</span> <span class="o">=</span> <span class="o">(</span><span class="nx">o</span><span class="o">.</span><span class="nx">win</span><span class="o">)</span> <span class="o">?</span> <span class="o">(</span><span class="nx">o</span><span class="o">.</span><span class="nx">win</span><span class="o">.</span><span class="nx">contentWindow</span><span class="o">)</span> <span class="o">:</span> <span class="nx">o</span><span class="o">.</span><span class="nx">win</span> <span class="o">||</span> <span class="nb">window</span><span class="o">;</span>
            <span class="nx">o</span><span class="o">.</span><span class="nx">win</span> <span class="o">=</span> <span class="nx">w</span><span class="o">;</span>
            <span class="nx">o</span><span class="o">.</span><span class="nx">doc</span> <span class="o">=</span> <span class="nx">w</span><span class="o">.</span><span class="nb">document</span><span class="o">;</span>
            <span class="nx">o</span><span class="o">.</span><span class="nx">envinronment</span> <span class="o">=</span> <span class="o">{</span>
                <span class="nx">prefix</span> <span class="o">:</span> <span class="s1">&#39;ap&#39;</span><span class="o">,</span>
                <span class="nx">uidIndex</span> <span class="o">:</span> <span class="m">0</span><span class="o">,</span>
                <span class="nx">modules</span> <span class="o">:</span> <span class="o">{}</span>
            <span class="o">};</span>

            <span class="k">this</span><span class="o">.</span><span class="nx">config</span> <span class="o">=</span> <span class="nx">o</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="nx">AP</span><span class="o">;</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">         * Returns the namespace specified and creates it if it doesn&#39;t exist</span>
<span class="c">         * &lt;pre&gt;</span>
<span class="c">         * AP.namespace(&quot;property.package&quot;);</span>
<span class="c">         * AP.namespace(&quot;AP.property.package&quot;);</span>
<span class="c">         * &lt;/pre&gt;</span>
<span class="c">         * Either of the above would create AP.property, then</span>
<span class="c">         * AP.Project.property.package</span>
<span class="c">         *</span>
<span class="c">         * Be careful when naming packages. Reserved words may work in some browsers</span>
<span class="c">         * and not others. For instance, the following will fail in Safari:</span>
<span class="c">         * &lt;pre&gt;</span>
<span class="c">         * AP.namespace(&quot;really.long.nested.namespace&quot;);</span>
<span class="c">         * &lt;/pre&gt;</span>
<span class="c">         * This fails because &quot;long&quot; is a future reserved word in ECMAScript</span>
<span class="c">         *</span>
<span class="c">         * @method namespace</span>
<span class="c">         * @param  {string*} arguments 1-n namespaces to create</span>
<span class="c">         * @return {object}  A reference to the last namespace object created</span>
<span class="c">         */</span>
        <span class="nx">namespace</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">arguments</span><span class="o">,</span> <span class="nx">o</span><span class="o">=</span><span class="kc">null</span><span class="o">,</span> <span class="nx">i</span><span class="o">,</span> <span class="nx">j</span><span class="o">,</span> <span class="nx">d</span><span class="o">;</span>
            <span class="k">for</span> <span class="o">(</span><span class="nx">i</span><span class="o">=</span><span class="m">0</span><span class="o">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">a</span><span class="o">.</span><span class="nx">length</span><span class="o">;</span> <span class="nx">i</span><span class="o">=</span><span class="nx">i</span><span class="o">+</span><span class="m">1</span><span class="o">)</span> <span class="o">{</span>
                <span class="nx">d</span> <span class="o">=</span> <span class="nx">a</span><span class="o">[</span><span class="nx">i</span><span class="o">].</span><span class="nx">split</span><span class="o">(</span><span class="s2">&quot;.&quot;</span><span class="o">);</span>

                <span class="nx">o</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">Project</span> <span class="o">?</span> <span class="k">this</span><span class="o">.</span><span class="nx">Project</span> <span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="nx">Project</span> <span class="o">=</span> <span class="o">{};</span>
                <span class="k">for</span> <span class="o">(</span><span class="nx">j</span> <span class="o">=</span> <span class="m">0</span><span class="o">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">d</span><span class="o">.</span><span class="nx">length</span><span class="o">;</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">j</span> <span class="o">+</span> <span class="m">1</span><span class="o">)</span> <span class="o">{</span>
                    <span class="nx">o</span><span class="o">[</span><span class="nx">d</span><span class="o">[</span><span class="nx">j</span><span class="o">]]</span> <span class="o">=</span> <span class="nx">o</span><span class="o">[</span><span class="nx">d</span><span class="o">[</span><span class="nx">j</span><span class="o">]]</span> <span class="o">||</span> <span class="o">{};</span>
                    <span class="nx">o</span> <span class="o">=</span> <span class="nx">o</span><span class="o">[</span><span class="nx">d</span><span class="o">[</span><span class="nx">j</span><span class="o">]];</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="nx">o</span><span class="o">;</span>
        <span class="o">},</span>

        <span class="c">/**</span>
<span class="c">         * Creates an empty function which does nothing but return the value passed.</span>
<span class="c">         * Inspired with MooTools $lambda function</span>
<span class="c">         * implementation was taken from MooTools.1.2.1 Core.js, line 201</span>
<span class="c">         * @method lambda</span>
<span class="c">         * @param {Mixed} value The value for the created function to return.</span>
<span class="c">         * @return {Function} A function which returns the desired value.</span>
<span class="c">         */</span>
        <span class="nx">lambda</span> <span class="o">:</span> <span class="k">function</span> <span class="o">(</span><span class="nx">value</span><span class="o">)</span> <span class="o">{</span>
        	<span class="k">return</span> <span class="o">(</span><span class="k">typeof</span> <span class="nx">value</span> <span class="o">==</span> <span class="s1">&#39;function&#39;</span><span class="o">)</span> <span class="o">?</span> <span class="nx">value</span> <span class="o">:</span> <span class="k">function</span><span class="o">(){</span>
        		<span class="k">return</span> <span class="nx">value</span><span class="o">;</span>
        	<span class="o">};</span>
        <span class="o">},</span>
        <span class="c">// stub which will be misplaced by Console module</span>
<span class="c"></span>        <span class="c">// inspired with YUI log function</span>
<span class="c"></span>        <span class="nx">log</span> <span class="o">:</span> <span class="k">function</span> <span class="o">()</span> <span class="o">{},</span>

        <span class="c">/**</span>
<span class="c">         * Generate an id that is unique among all AP instances</span>
<span class="c">         * inspired by YUI 3.0 &lt;guid&gt; method.</span>
<span class="c">         * @method generateUID</span>
<span class="c">         * @return {String} the guid</span>
<span class="c">         */</span>
        <span class="nx">generateUID</span> <span class="o">:</span> <span class="k">function</span> <span class="o">(</span><span class="nx">pre</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">config</span><span class="o">.</span><span class="nx">envinronment</span><span class="o">,</span> <span class="nx">p</span> <span class="o">=</span> <span class="o">(</span><span class="nx">pre</span><span class="o">)</span> <span class="o">||</span> <span class="nx">e</span><span class="o">.</span><span class="nx">prefix</span><span class="o">;</span>
            <span class="k">return</span> <span class="nx">p</span> <span class="o">+</span><span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="nx">e</span><span class="o">.</span><span class="nx">uidIndex</span><span class="o">++;</span>
        <span class="o">},</span>

        <span class="c">/**</span>
<span class="c">         * Stamps an object with a guid.  If the object already</span>
<span class="c">         * has one, a new one is not created</span>
<span class="c">         * Implementation was taken from YUI 3.0.0.pr1 line 448</span>
<span class="c">         * @method stamp</span>
<span class="c">         * @param o The object to stamp</span>
<span class="c">         * @return {String} The object&#39;s unique identifier</span>
<span class="c">         */</span>
        <span class="nx">stamp</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">o</span><span class="o">)</span> <span class="o">{</span>

            <span class="k">if</span> <span class="o">(!</span><span class="nx">o</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="nx">o</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="k">var</span> <span class="nx">uid</span> <span class="o">=</span> <span class="o">(</span><span class="k">typeof</span> <span class="nx">o</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="o">)</span> <span class="o">?</span> <span class="nx">o</span> <span class="o">:</span> <span class="nx">o</span><span class="o">.</span><span class="nx">_uid</span><span class="o">;</span>

            <span class="k">if</span> <span class="o">(!</span><span class="nx">uid</span><span class="o">)</span> <span class="o">{</span>
                <span class="nx">uid</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">generateUID</span><span class="o">();</span>
                <span class="nx">o</span><span class="o">.</span><span class="nx">_uid</span> <span class="o">=</span> <span class="nx">uid</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="k">return</span> <span class="nx">uid</span><span class="o">;</span>
        <span class="o">},</span>

        <span class="c">/**</span>
<span class="c">         * Register a module</span>
<span class="c">         * Inspired from YUI.3.0.0.pr1 add module</span>
<span class="c">         * @method add</span>
<span class="c">         * @param name {String} module name</span>
<span class="c">         * @param fn {Function} entry point into the module that</span>
<span class="c">         * is used to bind module to the AP instance</span>
<span class="c">         * @param version {String} version string</span>
<span class="c">         * @return {AP} the AP instance</span>
<span class="c">         */</span>
        <span class="nx">add</span> <span class="o">:</span> <span class="k">function</span> <span class="o">(</span><span class="nx">name</span><span class="o">,</span> <span class="nx">fn</span><span class="o">,</span> <span class="nx">version</span><span class="o">,</span> <span class="nx">requirements</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">config</span><span class="o">.</span><span class="nx">envinronment</span><span class="o">.</span><span class="nx">modules</span><span class="o">,</span> <span class="nx">requirement</span><span class="o">,</span> <span class="nx">i</span><span class="o">,</span>

            <span class="c">// expand version into major, minor, micro numbers (inspired from Yahoo! BrowserPlus services version system)</span>
<span class="c"></span>            <span class="nx">v</span> <span class="o">=</span> <span class="o">{</span>
                <span class="nx">version</span> <span class="o">:</span> <span class="o">(</span><span class="k">function</span> <span class="o">(</span><span class="nx">version</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">var</span> <span class="nx">v</span> <span class="o">=</span> <span class="o">{</span>
                        <span class="nx">major</span> <span class="o">:</span> <span class="m">0</span><span class="o">,</span>
                        <span class="nx">minor</span> <span class="o">:</span> <span class="m">0</span><span class="o">,</span>
                        <span class="nx">micro</span> <span class="o">:</span> <span class="m">0</span>
                    <span class="o">};</span>
                    <span class="k">if</span> <span class="o">(</span><span class="k">typeof</span> <span class="nx">version</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="o">)</span> <span class="o">{</span>
                        <span class="c">// inspired with John&#39;s Resig fast replace implementation, more details:</span>
<span class="c"></span>                        <span class="c">// http://ejohn.org/blog/search-and-dont-replace/</span>
<span class="c"></span>                        <span class="nx">version</span><span class="o">.</span><span class="nx">replace</span><span class="o">(</span><span class="sr">/(\d+)\.(\d+)\.(\d+)/</span><span class="o">,</span> <span class="k">function</span> <span class="o">(</span><span class="nx">m</span><span class="o">,</span> <span class="nx">major</span><span class="o">,</span> <span class="nx">minor</span><span class="o">,</span> <span class="nx">micro</span><span class="o">)</span> <span class="o">{</span>
                            <span class="nx">v</span><span class="o">.</span><span class="nx">major</span> <span class="o">=</span> <span class="nx">major</span><span class="o">;</span>
                            <span class="nx">v</span><span class="o">.</span><span class="nx">minor</span> <span class="o">=</span> <span class="nx">minor</span><span class="o">;</span>
                            <span class="nx">v</span><span class="o">.</span><span class="nx">micro</span> <span class="o">=</span> <span class="nx">micro</span><span class="o">;</span>
                        <span class="o">});</span>
                    <span class="o">}</span>
                    <span class="k">return</span> <span class="nx">v</span><span class="o">;</span>
                <span class="o">})(</span><span class="nx">version</span><span class="o">)</span>
            <span class="o">};</span>

            <span class="k">if</span> <span class="o">(!!</span><span class="nx">m</span><span class="o">[</span><span class="nx">name</span><span class="o">])</span> <span class="o">{</span>
                <span class="c">// module with same name already registered. Now is time to compare versions and newer will be registered</span>
<span class="c"></span>                <span class="k">var</span> <span class="nx">inc</span> <span class="o">=</span> <span class="nx">v</span><span class="o">.</span><span class="nx">version</span><span class="o">,</span> <span class="nx">ext</span> <span class="o">=</span> <span class="nx">m</span><span class="o">[</span><span class="nx">name</span><span class="o">].</span><span class="nx">version</span><span class="o">;</span>

                <span class="c">// TODO: refactor</span>
<span class="c"></span>                <span class="k">if</span> <span class="o">(!((</span><span class="nx">inc</span><span class="o">.</span><span class="nx">major</span> <span class="o">&gt;</span> <span class="nx">ext</span><span class="o">.</span><span class="nx">major</span><span class="o">)</span> <span class="o">||</span>
                    <span class="o">(</span><span class="nx">inc</span><span class="o">.</span><span class="nx">major</span> <span class="o">==</span> <span class="nx">ext</span><span class="o">.</span><span class="nx">major</span> <span class="o">&amp;&amp;</span> <span class="nx">inc</span><span class="o">.</span><span class="nx">minor</span> <span class="o">&gt;</span> <span class="nx">ext</span><span class="o">.</span><span class="nx">minor</span><span class="o">)</span> <span class="o">||</span>
                    <span class="o">(</span><span class="nx">inc</span><span class="o">.</span><span class="nx">major</span> <span class="o">==</span> <span class="nx">ext</span><span class="o">.</span><span class="nx">major</span> <span class="o">&amp;&amp;</span> <span class="nx">inc</span><span class="o">.</span><span class="nx">minor</span> <span class="o">==</span> <span class="nx">ext</span><span class="o">.</span><span class="nx">minor</span> <span class="o">&amp;&amp;</span> <span class="nx">inc</span><span class="o">.</span><span class="nx">micro</span> <span class="o">&gt;</span> <span class="nx">ext</span><span class="o">.</span><span class="nx">micro</span><span class="o">)))</span> <span class="o">{</span>

                    <span class="k">return</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>

            <span class="c">// check requirements</span>
<span class="c"></span>            <span class="k">if</span> <span class="o">(</span><span class="k">typeof</span> <span class="nx">requirements</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">requirements</span><span class="o">)</span> <span class="o">{</span>
                <span class="nx">i</span> <span class="o">=</span> <span class="m">0</span><span class="o">;</span>
                <span class="k">while</span><span class="o">(</span><span class="nx">requirement</span> <span class="o">=</span> <span class="nx">requirements</span><span class="o">[</span><span class="nx">i</span><span class="o">++])</span> <span class="o">{</span>
                    <span class="k">var</span> <span class="nx">requirementName</span> <span class="o">=</span> <span class="nx">requirement</span><span class="o">.</span><span class="nx">name</span><span class="o">,</span>
                        <span class="nx">error</span> <span class="o">=</span> <span class="s1">&#39;Module registration failure: module &#39;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39; requires module &#39;</span> <span class="o">+</span> <span class="nx">requirementName</span><span class="o">;</span>

                    <span class="k">if</span> <span class="o">(</span><span class="k">typeof</span> <span class="nx">requirementName</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">m</span><span class="o">[</span><span class="nx">requirementName</span><span class="o">]</span> <span class="o">===</span> <span class="s1">&#39;undefined&#39;</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="o">(</span><span class="nx">error</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="k">if</span> <span class="o">(</span><span class="k">typeof</span> <span class="nx">requirement</span><span class="o">.</span><span class="nx">minVersion</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="o">)</span> <span class="o">{</span>
                        <span class="c">// parse requirement into major, minor, micro numbers</span>
<span class="c"></span>                        <span class="k">var</span> <span class="nx">version</span> <span class="o">=</span> <span class="nx">requirement</span><span class="o">.</span><span class="nx">minVersion</span><span class="o">.</span><span class="nx">split</span><span class="o">(</span><span class="sr">/\./</span><span class="o">),</span> <span class="nx">j</span> <span class="o">=</span> <span class="m">0</span><span class="o">,</span> <span class="nx">existedVersion</span> <span class="o">=</span> <span class="nx">m</span><span class="o">[</span><span class="nx">requirementName</span><span class="o">].</span><span class="nx">version</span><span class="o">;</span>
                        <span class="k">if</span> <span class="o">((</span><span class="nx">existedVersion</span><span class="o">.</span><span class="nx">major</span> <span class="o">&lt;</span> <span class="nx">version</span><span class="o">[</span><span class="m">0</span><span class="o">])</span> <span class="o">||</span>
                          <span class="o">(</span><span class="nx">existedVersion</span><span class="o">.</span><span class="nx">major</span> <span class="o">==</span> <span class="nx">version</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nx">existedVersion</span><span class="o">.</span><span class="nx">minor</span> <span class="o">&lt;</span> <span class="nx">version</span><span class="o">[</span><span class="m">1</span><span class="o">])</span> <span class="o">||</span>
                          <span class="o">(</span><span class="nx">existedVersion</span><span class="o">.</span><span class="nx">major</span> <span class="o">==</span> <span class="nx">version</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nx">existedVersion</span><span class="o">.</span><span class="nx">minor</span> <span class="o">==</span> <span class="nx">version</span><span class="o">[</span><span class="m">1</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nx">existedVersion</span><span class="o">.</span><span class="nx">micro</span> <span class="o">&lt;</span> <span class="nx">version</span><span class="o">[</span><span class="m">2</span><span class="o">]))</span> <span class="o">{</span>

                            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="o">(</span><span class="nx">error</span> <span class="o">+</span> <span class="s1">&#39; version at least &#39;</span> <span class="o">+</span> <span class="nx">requirement</span><span class="o">.</span><span class="nx">minVersion</span><span class="o">);</span>
                        <span class="o">}</span>

                    <span class="o">}</span>

                    <span class="k">if</span> <span class="o">(</span><span class="k">typeof</span> <span class="nx">requirement</span><span class="o">.</span><span class="nx">maxVersion</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="o">)</span> <span class="o">{</span>
                        <span class="c">// parse requirement into major, minor, micro numbers</span>
<span class="c"></span>                        <span class="k">var</span> <span class="nx">version</span> <span class="o">=</span> <span class="nx">requirement</span><span class="o">.</span><span class="nx">maxVersion</span><span class="o">.</span><span class="nx">split</span><span class="o">(</span><span class="sr">/\./</span><span class="o">),</span> <span class="nx">j</span> <span class="o">=</span> <span class="m">0</span><span class="o">,</span> <span class="nx">existedVersion</span> <span class="o">=</span> <span class="nx">m</span><span class="o">[</span><span class="nx">requirementName</span><span class="o">].</span><span class="nx">version</span><span class="o">;</span>
                        <span class="k">if</span> <span class="o">((</span><span class="nx">existedVersion</span><span class="o">.</span><span class="nx">major</span> <span class="o">&gt;</span> <span class="nx">version</span><span class="o">[</span><span class="m">0</span><span class="o">])</span> <span class="o">||</span>
                              <span class="o">(</span><span class="nx">existedVersion</span><span class="o">.</span><span class="nx">major</span> <span class="o">==</span> <span class="nx">version</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nx">existedVersion</span><span class="o">.</span><span class="nx">minor</span> <span class="o">&gt;</span> <span class="nx">version</span><span class="o">[</span><span class="m">1</span><span class="o">])</span> <span class="o">||</span>
                              <span class="o">(</span><span class="nx">existedVersion</span><span class="o">.</span><span class="nx">major</span> <span class="o">==</span> <span class="nx">version</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nx">existedVersion</span><span class="o">.</span><span class="nx">minor</span> <span class="o">==</span> <span class="nx">version</span><span class="o">[</span><span class="m">1</span><span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nx">existedVersion</span><span class="o">.</span><span class="nx">micro</span> <span class="o">&gt;</span> <span class="nx">version</span><span class="o">[</span><span class="m">2</span><span class="o">]))</span> <span class="o">{</span>
                            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="o">(</span><span class="nx">error</span> <span class="o">+</span> <span class="s1">&#39; version no greater than &#39;</span> <span class="o">+</span> <span class="nx">requirement</span><span class="o">.</span><span class="nx">maxVersion</span><span class="o">);</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>



            <span class="nx">m</span><span class="o">[</span><span class="nx">name</span><span class="o">]</span> <span class="o">=</span> <span class="nx">v</span><span class="o">;</span>

            <span class="nx">fn</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">};</span>

    <span class="k">var</span> <span class="nx">A</span> <span class="o">=</span> <span class="nx">AP</span><span class="o">,</span> <span class="nx">p</span> <span class="o">=</span> <span class="nx">A</span><span class="o">.</span><span class="nx">prototype</span><span class="o">,</span> <span class="nx">i</span><span class="o">;</span>

    <span class="c">// inheritance utilities are not available yet</span>
<span class="c"></span>    <span class="k">for</span> <span class="o">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">p</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span> <span class="c">// hasOwnProperty not available yet and not needed</span>
<span class="c"></span>           <span class="nx">A</span><span class="o">[</span><span class="nx">i</span><span class="o">]</span> <span class="o">=</span> <span class="nx">p</span><span class="o">[</span><span class="nx">i</span><span class="o">];</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nx">A</span><span class="o">.</span><span class="nx">init</span><span class="o">();</span>

<span class="o">})();</span>
</pre></div>
                    </div>
			</div>
		</div>
		<div class="yui-b">
            <div class="nav">

                    <div id="moduleList" class="module">
                        <h4>Modules</h4>
                        <ul class="content">
                                <li class=""><a href="module_ap.html" title="ap">ap</a></li>
                                <li class="selected"><a href="module_cookie.html" title="cookie">cookie</a></li>
                                <li class=""><a href="module_history.html" title="history">history</a></li>
                                <li class=""><a href="module_imageloader.html" title="imageloader">imageloader</a></li>
                                <li class=""><a href="module_json.html" title="json">json</a></li>
                                <li class=""><a href="module_queue.html" title="queue">queue</a></li>
                                <li class=""><a href="module_spinner.html" title="spinner">spinner</a></li>
                                <li class=""><a href="module_supreme.html" title="supreme">supreme</a></li>
                        </ul>
                    </div>

                    <div id="classList" class="module">
                        <h4>Classes</h4>
                        <ul class="content">
                                <li class=""><a href="AP~array.html" title="AP~array">AP~array</a></li>
                                <li class=""><a href="AP~Cookie.html" title="AP~Cookie">AP~Cookie</a></li>
                                <li class=""><a href="Browser.html" title="Browser">Browser</a></li>
                        </ul>
                    </div>

                    <div id="fileList" class="module">
                        <h4>Files</h4>
                        <ul class="content">        
                                <li class=""><a href="array.js.html" title="array.js">array.js</a></li>
                                <li class=""><a href="browser.js.html" title="browser.js">browser.js</a></li>
                                <li class=""><a href="cookie.js.html" title="cookie.js">cookie.js</a></li>
                                <li class="selected"><a href="core.js.html" title="core.js">core.js</a></li>
                        </ul>
                    </div>





            </div>
		</div>
	</div>
	<div id="ft">
        <hr />
        Copyright &copy; 2009 Yahoo! Inc. All rights reserved.
	</div>
</div>
<script type="text/javascript">
    ALL_YUI_PROPS = [{"url": "AP~array.html#method_Array", "access": "", "host": "AP~array", "type": "method", "name": "Array"}, {"url": "AP~array.html#method_Array.each", "access": "", "host": "AP~array", "type": "method", "name": "Array.each"}, {"url": "AP~array.html#method_Array.hash", "access": "", "host": "AP~array", "type": "method", "name": "Array.hash"}, {"url": "AP~array.html#method_Array.indexOf", "access": "", "host": "AP~array", "type": "method", "name": "Array.indexOf"}, {"url": "AP~array.html#method_Array.some", "access": "", "host": "AP~array", "type": "method", "name": "Array.some"}, {"url": "AP~array.html#method_Array.test", "access": "", "host": "AP~array", "type": "method", "name": "Array.test"}, {"url": "AP~array.html#method_clean", "access": "", "host": "AP~array", "type": "method", "name": "clean"}, {"url": "AP~Cookie.html#method__createCookieHashString", "access": "private", "host": "AP~Cookie", "type": "method", "name": "_createCookieHashString"}, {"url": "AP~Cookie.html#method__createCookieString", "access": "private", "host": "AP~Cookie", "type": "method", "name": "_createCookieString"}, {"url": "AP~array.html#method_erase", "access": "", "host": "AP~array", "type": "method", "name": "erase"}, {"url": "AP~array.html#method_every", "access": "", "host": "AP~array", "type": "method", "name": "every"}, {"url": "AP~array.html#method_filter", "access": "", "host": "AP~array", "type": "method", "name": "filter"}, {"url": "Browser.html#property_gecko", "access": "", "host": "Browser", "type": "property", "name": "gecko"}, {"url": "AP~Cookie.html#method_get", "access": "", "host": "AP~Cookie", "type": "method", "name": "get"}, {"url": "AP~Cookie.html#method_getSub", "access": "", "host": "AP~Cookie", "type": "method", "name": "getSub"}, {"url": "AP~Cookie.html#method_getSubs", "access": "", "host": "AP~Cookie", "type": "method", "name": "getSubs"}, {"url": "AP~array.html#method_map", "access": "", "host": "AP~array", "type": "method", "name": "map"}, {"url": "AP~Cookie.html#method__parseCookieHash", "access": "private", "host": "AP~Cookie", "type": "method", "name": "_parseCookieHash"}, {"url": "AP~Cookie.html#method__parseCookieString", "access": "private", "host": "AP~Cookie", "type": "method", "name": "_parseCookieString"}, {"url": "Browser.html#property_platform", "access": "", "host": "Browser", "type": "property", "name": "platform"}, {"url": "Browser.html#property_presto", "access": "", "host": "Browser", "type": "property", "name": "presto"}, {"url": "AP~Cookie.html#method_remove", "access": "", "host": "AP~Cookie", "type": "method", "name": "remove"}, {"url": "AP~Cookie.html#method_removeSub", "access": "", "host": "AP~Cookie", "type": "method", "name": "removeSub"}, {"url": "AP~Cookie.html#method_set", "access": "", "host": "AP~Cookie", "type": "method", "name": "set"}, {"url": "AP~Cookie.html#method_setSub", "access": "", "host": "AP~Cookie", "type": "method", "name": "setSub"}, {"url": "AP~Cookie.html#method_setSubs", "access": "", "host": "AP~Cookie", "type": "method", "name": "setSubs"}, {"url": "Browser.html#property_trident", "access": "", "host": "Browser", "type": "property", "name": "trident"}, {"url": "AP~array.html#method_unique", "access": "", "host": "AP~array", "type": "method", "name": "unique"}, {"url": "Browser.html#property_webkit", "access": "", "host": "Browser", "type": "property", "name": "webkit"}];
</script>
</body>
</html>
